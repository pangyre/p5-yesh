---
# SITE SPECIFIC ------------------------------------------
site:
  name: <yesh/>
#  use_google_js: Yes

# APPLICATION --------------------------------------------
default_view: Alloy


# PLUGINS ------------------------------------------------
Plugin::Authentication:
# This not actually "clear." It’s bcrypted in the DB and compared on the fly with a new bcrypt. This is not the way it’s supposed to work but I haven’t solved the proble
  realms:
    default:
      class: SimpleDB
      user_model: DBIC::User
      password_type: clear
      #      password_type: self_check
#      class: DBIx::Class
      user_class: DBIC::User
      role_relation: site_roles
      role_field: name
    openid:
      credential:
        user_model: DBIC::User
        password_type: self_check
      store:
        class: DBIx::Class
        user_class: DBIC::User
        role_relation: site_roles
        role_field: name


# CONTROLLERS --------------------------------------------
Controller::Session:
  secure_login: 1

Controller::User:
  secure_edit: 1
  reset_token_lives_for: 1 hour
  secure_registration: 1
  model_stash:
    schema: DBIC
  new_users_get_author_role: 1

Controller::HTML::FormFu:
  default_action_use_path: 1
  model_stash:
    schema: DBIC


# MODELS -------------------------------------------------
Model::DBIC:
  connect_info:
    - Connection information should be provided in __path_to(yesh_local.yml)__
    - ~
    - ~
    - RaiseError: 1
      AutoCommit: 1
      ChopBlanks: 1

Model::SelfTest:
  lib: __path_to(lib)__

Model::CHI:
  class: CHI
  args:
    driver: File

# VIEWS --------------------------------------------------
View::Alloy:
  INCLUDE_PATH:
    - __path_to(root/alloy/src)__
    - __path_to(root/alloy)__
  PRE_PROCESS:
    - lib/macros.tt
  TEMPLATE_EXTENSION: .tt
  CATALYST_VAR: yesh
  WRAPPER: lib/wrapper.tt
  TRIM: 1
  COLLAPSE: 1
