---
auto_fieldset:
  legend: Configure the database
elements:
  - type: Text
    name: db_name
    label: Database name
    constraints: 
      - Required
      - type: Length
        min: 1
        max: 50
  - type: Text
    name: user
    label: Database user
    constraints: 
      - type: Required
        message: User is required for DBs other than SQLite
        when:
          field: dbd
          values: [ 'SQLite' ]
          not: 1
  - type: Text
    name: password
    label: Password
  - type: Text
    name: host
    label: Database Host
  - type: Text
    name: port
    label: Port on host
    constraints: 
      - Integer
  - type: Hidden
    default: normal
    name: normal
  - type: Select
    label: Database type
    constraint: Required
    name: dbd
    options:
      - [ '', 'Select your DB engine' ]
      - [ 'Pg', 'PostgreSQL' ]
      - [ 'mysql', 'MySQL' ]
      - [ 'SQLite', 'SQLite' ]
  - type: Submit
    name: x
    value: Set-up the configuration
